<!DOCTYPE html>
<html>
<body>
<button onclick="getNewCountries()">List countries</button>
<textarea id='outputBox' style="display: flex; flex-direction: column; width: 100%; height: 100px;"></textarea>

<button onclick="randomJoke()">gimmeAJoke</button>
<textarea id='jokebox' style="display: flex; flex-direction: column; width: 100%; height: 100px;"></textarea>

<button onclick="getCatFact()">Cat fact?</button>
<textarea id='catBox' style="display: flex; flex-direction: column; width: 100%; height: 100px;"></textarea>


<script>
let ttl = "";
function getNewCountries(){

	getCountries()
		.then(data => {
			printJSON(data); // Output the countries data
			document.getElementById('outputBox').textContent = ttl;
			ttl="";
		})
		.catch(error => {
			console.error(error); // Handle any errors that occur
		});
}
function randomJoke(){
	console.log("hey");
getRandomJoke()
		.then(data => {
			printJSON(data); 
			document.getElementById('jokebox').textContent = ttl;
			ttl="";
		})
		.catch(error => {
			console.error(error); 
		});	
}
function getCatFact(){
	getRandomCatFact()
		.then(data => {
			//printJSON(data); 
			document.getElementById('catBox').textContent = data;
			ttl="";
		})
		.catch(error => {
			console.error(error); // Handle any errors that occur
		});

}

function printJSON(jsonObj) {
  for (let key in jsonObj) {
    if (typeof jsonObj[key] === "object") {
      ttl += key+":";
      printJSON(jsonObj[key]);
    } else {
	  ttl += key+":"+jsonObj[key]+"\n";
    }
  }
}
async function getRandomCatFact() {
  const response = await fetch('https://catfact.ninja/fact');
  const data = await response.json();
  return data.fact;
}
async function getRandomJoke() {
  const response = await fetch('https://official-joke-api.appspot.com/random_joke');
  const data = await response.json();
  return data;
}
async function getCountries() {
	const response = await fetch('https://restcountries.com/v2/all');
	const data = await response.json();
	return data;
}
async function getWeatherData(city) {
  const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=${city}&appid={YOUR_API_KEY}');
  const data = await response.json();
  return data;
}
async function getMovieData(movieTitle) {
  const response = await fetch('https://www.omdbapi.com/?t=${movieTitle}&apikey={YOUR_API_KEY}');
  const data = await response.json();
  return data;
}


</script>

</body>
</html>