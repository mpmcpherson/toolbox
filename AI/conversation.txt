import openai

# Replace 'YOUR_API_KEY' with your OpenAI API key
openai.api_key = 'YOUR_API_KEY'

# Function to create a conversation object
def create_conversation(messages):
    return [{'role': message['role'], 'content': message['content']} for message in messages]

# Function to make a request to the /chat/completions API
def chat_completions(prompt, conversation, max_tokens=50):
    response = openai.Completion.create(
        engine="text-davinci-002",
        prompt=prompt,
        messages=conversation,
        max_tokens=max_tokens
    )
    return response.choices[0].text.strip()

# Example conversation
conversation = create_conversation([
    {'role': 'system', 'content': 'You are a helpful assistant.'},
    {'role': 'user', 'content': 'Who won the world series in 2020?'},
    {'role': 'assistant', 'content': 'The Los Angeles Dodgers won the World Series in 2020.'},
    {'role': 'user', 'content': 'Where was it played?'},
])

# Example prompt for the chat
prompt = "The following is a conversation between a user and an assistant:"

# Make a request to the chat/completions API
response = chat_completions(prompt, conversation, max_tokens=50)

# Print the response from the assistant
print("Assistant:", response)
